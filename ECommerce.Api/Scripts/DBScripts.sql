IF OBJECT_ID('dbo.ORDERITEMS', 'U') IS NOT NULL 
  DROP TABLE dbo.ORDERITEMS;
GO

IF OBJECT_ID('dbo.ORDERS', 'U') IS NOT NULL 
  DROP TABLE dbo.ORDERS;
GO

IF OBJECT_ID('dbo.CUSTOMERS', 'U') IS NOT NULL 
  DROP TABLE dbo.CUSTOMERS;
GO

IF OBJECT_ID('dbo.PRODUCTS', 'U') IS NOT NULL 
  DROP TABLE dbo.PRODUCTS;
GO



CREATE TABLE CUSTOMERS
(
	CUSTOMERID NVARCHAR(50) NOT NULL PRIMARY KEY,
	FIRSTNAME NVARCHAR(50),
	LASTNAME NVARCHAR(50),
	EMAIL NVARCHAR(255),
	HOUSENO NVARCHAR(50),
	STREET NVARCHAR(255),
	TOWN NVARCHAR(50),
	POSTCODE NVARCHAR(10)
);
GO
CREATE TABLE PRODUCTS
(
	PRODUCTID INT IDENTITY PRIMARY KEY,
	PRODUCTNAME NVARCHAR(255),
	COLOUR NVARCHAR(50),
	SIZE NVARCHAR(50)
);
GO
CREATE TABLE ORDERS
(
	ORDERID INT IDENTITY PRIMARY KEY,
	CUSTOMERID NVARCHAR(50) NOT NULL,
	ORDERDATE DATE,
	DELIVERYEXPECTED DATE,
	CONTAINSGIFT BIT,
	FOREIGN KEY (CUSTOMERID) REFERENCES CUSTOMERS(CUSTOMERID)
);
GO
CREATE TABLE ORDERITEMS
(
    ORDERITEMID INT IDENTITY PRIMARY KEY,
    ORDERID INT,
    PRODUCTID INT,
    QUANTITY INT,
    PRICE DECIMAL(9,2),
    FOREIGN KEY (ORDERID) REFERENCES ORDERS(ORDERID),
    FOREIGN KEY (PRODUCTID) REFERENCES PRODUCTS(PRODUCTID)
);
GO

INSERT INTO CUSTOMERS (CUSTOMERID, FIRSTNAME, LASTNAME, EMAIL, HOUSENO, STREET, TOWN, POSTCODE) VALUES 
('C34454', 'Bob', 'Marshal', 'bob@aol.com', '1A', 'Uppingham Gate', 'Uppingham', 'LE15 9NY'),
('R34788', 'Jack', 'Ross', 'jack@yahoo.com', '4B', 'Strabrokeway', 'Wortley', 'LS12 4NB'),
('A99001', 'Chris', 'Gregory', 'chris@gmail.com', '7A', 'Marsh Lane', 'Leeds', 'LS9 7NE'),
('X45001', 'Ken', 'Martin', 'ken@aol.com', '32B', 'Harehills', 'York', 'LE15 9NY');
GO

SET IDENTITY_INSERT Products ON;
INSERT INTO PRODUCTS (PRODUCTID, PRODUCTNAME, COLOUR, SIZE) VALUES 
(110, 'Tennis Ball', 'Yellow', 'S'),
(111, 'Tennis Net', 'White', 'XL'),
(112, 'Tennis Racket', 'White', 'L'),
(113, 'Tennis Gear', 'White', 'XL');
SET IDENTITY_INSERT Products OFF;
GO

SET IDENTITY_INSERT Orders ON;
INSERT INTO ORDERS (ORDERID, CUSTOMERID, ORDERDATE, DELIVERYEXPECTED, CONTAINSGIFT) VALUES 
(456, 'R34788', '2023-05-03', '2023-05-10', 0),
(545, 'C34454', '2023-06-07', '2023-06-15', 0),
(652, 'A99001', '2023-07-10', '2023-07-25', 1),
(667, 'R34788', '2023-09-20', '2023-09-30', 0),
(786, 'R34788', '2023-10-28', '2023-11-21', 1);
SET IDENTITY_INSERT Orders OFF;
GO

SET IDENTITY_INSERT OrderItems ON;
INSERT INTO ORDERITEMS (ORDERITEMID, ORDERID, PRODUCTID, QUANTITY, PRICE) VALUES 
(965, 456, 110, 3, 45.00),
(966, 456, 113, 1, 120.00),
(1001, 545, 111, 1, 150.00),
(1150, 652, 111, 1, 150.00),
(1151, 652, 112, 2, 300.00),
(1152, 652, 110, 5, 75.00),
(2151, 786, 113, 1, 120.00),
(2152, 786, 110, 2, 30.00),
(2153, 786, 112, 1, 75.00);
SET IDENTITY_INSERT OrderItems OFF;
GO